"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.UiAutomator = void 0;
require("source-map-support/register");
var _events = _interopRequireDefault(require("events"));
var _support = require("appium/support");
const log = _support.logger.getLogger('UiAutomator');
class UiAutomator extends _events.default.EventEmitter {
  constructor(adb) {
    if (!adb) {
      log.errorAndThrow('adb is required to instantiate UiAutomator');
    }
    super();
    this.adb = adb;
    this.tempPath = '/data/local/tmp/';
  }
  async start(uiAutomatorBinaryPath, className, startDetector, ...extraParams) {
    let processIsAlive;
    try {
      log.debug('Starting UiAutomator');
      this.changeState(UiAutomator.STATE_STARTING);
      log.debug('Parsing uiautomator jar');
      let jarName = this.parseJarNameFromPath(uiAutomatorBinaryPath);
      await this.adb.push(uiAutomatorBinaryPath, this.tempPath);

      await this.killUiAutomatorOnDevice();
      log.debug('Starting UIAutomator');
      let args = ['shell', 'uiautomator', 'runtest', jarName, '-c', className, ...extraParams];
      this.proc = this.adb.createSubProcess(args);

      this.proc.on('exit', (code, signal) => {
        processIsAlive = false;
        if (this.state !== UiAutomator.STATE_STOPPED && this.state !== UiAutomator.STATE_STOPPING) {
          let msg = `UiAutomator exited unexpectedly with code ${code}, ` + `signal ${signal}`;
          log.error(msg);
        } else if (this.state === UiAutomator.STATE_STOPPING) {
          log.debug('UiAutomator shut down normally');
        }
        this.changeState(UiAutomator.STATE_STOPPED);
      });
      await this.proc.start(startDetector);
      processIsAlive = true;
      this.changeState(UiAutomator.STATE_ONLINE);
      return this.proc;
    } catch (e) {
      this.emit(UiAutomator.EVENT_ERROR, e);
      if (processIsAlive) {
        await this.killUiAutomatorOnDevice();
        await this.proc.stop();
      }
      log.errorAndThrow(e);
    }
  }
  async shutdown() {
    log.debug('Shutting down UiAutomator');
    if (this.state !== UiAutomator.STATE_STOPPED) {
      this.changeState(UiAutomator.STATE_STOPPING);
      await this.proc.stop();
    }
    await this.killUiAutomatorOnDevice();
    this.changeState(UiAutomator.STATE_STOPPED);
  }
  parseJarNameFromPath(binaryPath) {
    let reTest = /.*(\/|\\)(.*\.jar)/.exec(binaryPath);
    if (!reTest) {
      throw new Error(`Unable to parse jar name from ${binaryPath}`);
    }
    let jarName = reTest[2];
    log.debug(`Found jar name: '${jarName}'`);
    return jarName;
  }
  changeState(state) {
    log.debug(`Moving to state '${state}'`);
    this.state = state;
    this.emit(UiAutomator.EVENT_CHANGED, {
      state
    });
  }
  async killUiAutomatorOnDevice() {
    try {
      await this.adb.killProcessesByName('uiautomator');
    } catch (e) {
      log.warn(`Error while killing uiAutomator: ${e}`);
    }
  }
}
exports.UiAutomator = UiAutomator;
UiAutomator.EVENT_ERROR = 'uiautomator_error';
UiAutomator.EVENT_CHANGED = 'stateChanged';
UiAutomator.STATE_STOPPING = 'stopping';
UiAutomator.STATE_STOPPED = 'stopped';
UiAutomator.STATE_STARTING = 'starting';
UiAutomator.STATE_ONLINE = 'online';
var _default = UiAutomator;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2ciLCJsb2dnZXIiLCJnZXRMb2dnZXIiLCJVaUF1dG9tYXRvciIsImV2ZW50cyIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiYWRiIiwiZXJyb3JBbmRUaHJvdyIsInRlbXBQYXRoIiwic3RhcnQiLCJ1aUF1dG9tYXRvckJpbmFyeVBhdGgiLCJjbGFzc05hbWUiLCJzdGFydERldGVjdG9yIiwiZXh0cmFQYXJhbXMiLCJwcm9jZXNzSXNBbGl2ZSIsImRlYnVnIiwiY2hhbmdlU3RhdGUiLCJTVEFURV9TVEFSVElORyIsImphck5hbWUiLCJwYXJzZUphck5hbWVGcm9tUGF0aCIsInB1c2giLCJraWxsVWlBdXRvbWF0b3JPbkRldmljZSIsImFyZ3MiLCJwcm9jIiwiY3JlYXRlU3ViUHJvY2VzcyIsIm9uIiwiY29kZSIsInNpZ25hbCIsInN0YXRlIiwiU1RBVEVfU1RPUFBFRCIsIlNUQVRFX1NUT1BQSU5HIiwibXNnIiwiZXJyb3IiLCJTVEFURV9PTkxJTkUiLCJlIiwiZW1pdCIsIkVWRU5UX0VSUk9SIiwic3RvcCIsInNodXRkb3duIiwiYmluYXJ5UGF0aCIsInJlVGVzdCIsImV4ZWMiLCJFcnJvciIsIkVWRU5UX0NIQU5HRUQiLCJraWxsUHJvY2Vzc2VzQnlOYW1lIiwid2FybiJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi91aWF1dG9tYXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXZlbnRzIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdhcHBpdW0vc3VwcG9ydCc7XG5cblxuY29uc3QgbG9nID0gbG9nZ2VyLmdldExvZ2dlcignVWlBdXRvbWF0b3InKTtcblxuY2xhc3MgVWlBdXRvbWF0b3IgZXh0ZW5kcyBldmVudHMuRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IgKGFkYikge1xuICAgIGlmICghYWRiKSB7XG4gICAgICBsb2cuZXJyb3JBbmRUaHJvdygnYWRiIGlzIHJlcXVpcmVkIHRvIGluc3RhbnRpYXRlIFVpQXV0b21hdG9yJyk7XG4gICAgfVxuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGIgPSBhZGI7XG4gICAgdGhpcy50ZW1wUGF0aCA9ICcvZGF0YS9sb2NhbC90bXAvJztcbiAgfVxuXG4gIGFzeW5jIHN0YXJ0ICh1aUF1dG9tYXRvckJpbmFyeVBhdGgsIGNsYXNzTmFtZSwgc3RhcnREZXRlY3RvciwgLi4uZXh0cmFQYXJhbXMpIHtcbiAgICBsZXQgcHJvY2Vzc0lzQWxpdmU7XG4gICAgdHJ5IHtcbiAgICAgIGxvZy5kZWJ1ZygnU3RhcnRpbmcgVWlBdXRvbWF0b3InKTtcbiAgICAgIHRoaXMuY2hhbmdlU3RhdGUoVWlBdXRvbWF0b3IuU1RBVEVfU1RBUlRJTkcpO1xuXG4gICAgICBsb2cuZGVidWcoJ1BhcnNpbmcgdWlhdXRvbWF0b3IgamFyJyk7XG4gICAgICAvLyBleHBlY3RpbmcgYSBwYXRoIGxpa2UgL2Fkcy9hZHMvZm9vLmphciBvciBcXGFzZFxcYXNkXFxmb28uamFyXG4gICAgICBsZXQgamFyTmFtZSA9IHRoaXMucGFyc2VKYXJOYW1lRnJvbVBhdGgodWlBdXRvbWF0b3JCaW5hcnlQYXRoKTtcbiAgICAgIGF3YWl0IHRoaXMuYWRiLnB1c2godWlBdXRvbWF0b3JCaW5hcnlQYXRoLCB0aGlzLnRlbXBQYXRoKTtcblxuICAgICAgLy8ga2lsbGluZyBhbnkgdWlhdXRvbWF0b3IgZXhpc3RpbmcgcHJvY2Vzc2VzXG4gICAgICBhd2FpdCB0aGlzLmtpbGxVaUF1dG9tYXRvck9uRGV2aWNlKCk7XG5cbiAgICAgIGxvZy5kZWJ1ZygnU3RhcnRpbmcgVUlBdXRvbWF0b3InKTtcbiAgICAgIGxldCBhcmdzID0gWydzaGVsbCcsICd1aWF1dG9tYXRvcicsICdydW50ZXN0JywgamFyTmFtZSwgJy1jJywgY2xhc3NOYW1lLCAuLi5leHRyYVBhcmFtc107XG4gICAgICB0aGlzLnByb2MgPSB0aGlzLmFkYi5jcmVhdGVTdWJQcm9jZXNzKGFyZ3MpO1xuXG4gICAgICAvLyBoYW5kbGUgb3V0LW9mLWJvdW5kIGV4aXQgYnkgc2ltcGx5IGVtaXR0aW5nIGEgc3RvcHBlZCBzdGF0ZVxuICAgICAgdGhpcy5wcm9jLm9uKCdleGl0JywgKGNvZGUsIHNpZ25hbCkgPT4ge1xuICAgICAgICBwcm9jZXNzSXNBbGl2ZSA9IGZhbHNlO1xuICAgICAgICAvLyBjbGVhbnVwXG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUEVEICYmXG4gICAgICAgICAgICB0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUElORykge1xuICAgICAgICAgIGxldCBtc2cgPSBgVWlBdXRvbWF0b3IgZXhpdGVkIHVuZXhwZWN0ZWRseSB3aXRoIGNvZGUgJHtjb2RlfSwgYCArXG4gICAgICAgICAgICAgICAgICAgIGBzaWduYWwgJHtzaWduYWx9YDtcbiAgICAgICAgICBsb2cuZXJyb3IobXNnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlID09PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUElORykge1xuICAgICAgICAgIGxvZy5kZWJ1ZygnVWlBdXRvbWF0b3Igc2h1dCBkb3duIG5vcm1hbGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShVaUF1dG9tYXRvci5TVEFURV9TVE9QUEVEKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB0aGlzLnByb2Muc3RhcnQoc3RhcnREZXRlY3Rvcik7XG4gICAgICBwcm9jZXNzSXNBbGl2ZSA9IHRydWU7XG4gICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yLlNUQVRFX09OTElORSk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9jO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuZW1pdChVaUF1dG9tYXRvci5FVkVOVF9FUlJPUiwgZSk7XG4gICAgICBpZiAocHJvY2Vzc0lzQWxpdmUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5raWxsVWlBdXRvbWF0b3JPbkRldmljZSgpO1xuICAgICAgICBhd2FpdCB0aGlzLnByb2Muc3RvcCgpO1xuICAgICAgfVxuICAgICAgbG9nLmVycm9yQW5kVGhyb3coZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2h1dGRvd24gKCkge1xuICAgIGxvZy5kZWJ1ZygnU2h1dHRpbmcgZG93biBVaUF1dG9tYXRvcicpO1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSBVaUF1dG9tYXRvci5TVEFURV9TVE9QUEVEKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yLlNUQVRFX1NUT1BQSU5HKTtcbiAgICAgIGF3YWl0IHRoaXMucHJvYy5zdG9wKCk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMua2lsbFVpQXV0b21hdG9yT25EZXZpY2UoKTtcbiAgICB0aGlzLmNoYW5nZVN0YXRlKFVpQXV0b21hdG9yLlNUQVRFX1NUT1BQRUQpO1xuICB9XG5cbiAgcGFyc2VKYXJOYW1lRnJvbVBhdGggKGJpbmFyeVBhdGgpIHtcbiAgICBsZXQgcmVUZXN0ID0gLy4qKFxcL3xcXFxcKSguKlxcLmphcikvLmV4ZWMoYmluYXJ5UGF0aCk7XG4gICAgaWYgKCFyZVRlc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIGphciBuYW1lIGZyb20gJHtiaW5hcnlQYXRofWApO1xuICAgIH1cbiAgICBsZXQgamFyTmFtZSA9IHJlVGVzdFsyXTtcbiAgICBsb2cuZGVidWcoYEZvdW5kIGphciBuYW1lOiAnJHtqYXJOYW1lfSdgKTtcbiAgICByZXR1cm4gamFyTmFtZTtcbiAgfVxuXG4gIGNoYW5nZVN0YXRlIChzdGF0ZSkge1xuICAgIGxvZy5kZWJ1ZyhgTW92aW5nIHRvIHN0YXRlICcke3N0YXRlfSdgKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5lbWl0KFVpQXV0b21hdG9yLkVWRU5UX0NIQU5HRUQsIHtzdGF0ZX0pO1xuICB9XG5cbiAgYXN5bmMga2lsbFVpQXV0b21hdG9yT25EZXZpY2UgKCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmFkYi5raWxsUHJvY2Vzc2VzQnlOYW1lKCd1aWF1dG9tYXRvcicpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZy53YXJuKGBFcnJvciB3aGlsZSBraWxsaW5nIHVpQXV0b21hdG9yOiAke2V9YCk7XG4gICAgfVxuICB9XG5cbn1cblxuVWlBdXRvbWF0b3IuRVZFTlRfRVJST1IgPSAndWlhdXRvbWF0b3JfZXJyb3InO1xuVWlBdXRvbWF0b3IuRVZFTlRfQ0hBTkdFRCA9ICdzdGF0ZUNoYW5nZWQnO1xuVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBJTkcgPSAnc3RvcHBpbmcnO1xuVWlBdXRvbWF0b3IuU1RBVEVfU1RPUFBFRCA9ICdzdG9wcGVkJztcblVpQXV0b21hdG9yLlNUQVRFX1NUQVJUSU5HID0gJ3N0YXJ0aW5nJztcblVpQXV0b21hdG9yLlNUQVRFX09OTElORSA9ICdvbmxpbmUnO1xuXG5cbmV4cG9ydCB7IFVpQXV0b21hdG9yIH07XG5leHBvcnQgZGVmYXVsdCBVaUF1dG9tYXRvcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBR0EsTUFBTUEsR0FBRyxHQUFHQyxlQUFNLENBQUNDLFNBQVMsQ0FBQyxhQUFhLENBQUM7QUFFM0MsTUFBTUMsV0FBVyxTQUFTQyxlQUFNLENBQUNDLFlBQVksQ0FBQztFQUM1Q0MsV0FBVyxDQUFFQyxHQUFHLEVBQUU7SUFDaEIsSUFBSSxDQUFDQSxHQUFHLEVBQUU7TUFDUlAsR0FBRyxDQUFDUSxhQUFhLENBQUMsNENBQTRDLENBQUM7SUFDakU7SUFDQSxLQUFLLEVBQUU7SUFDUCxJQUFJLENBQUNELEdBQUcsR0FBR0EsR0FBRztJQUNkLElBQUksQ0FBQ0UsUUFBUSxHQUFHLGtCQUFrQjtFQUNwQztFQUVBLE1BQU1DLEtBQUssQ0FBRUMscUJBQXFCLEVBQUVDLFNBQVMsRUFBRUMsYUFBYSxFQUFFLEdBQUdDLFdBQVcsRUFBRTtJQUM1RSxJQUFJQyxjQUFjO0lBQ2xCLElBQUk7TUFDRmYsR0FBRyxD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